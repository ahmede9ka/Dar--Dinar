<app-side-bar></app-side-bar>
<main class="ml-64">
  <div class="p-6">
    <!-- Title -->
    <h1 class="text-3xl font-bold mb-4">Masarif Table</h1>

    <!-- Table -->
    <div class="relative overflow-x-auto shadow-md sm:rounded-lg">
      <table class="w-full text-sm text-left text-gray-500">
        <thead class="text-xs text-gray-700 uppercase bg-gray-50">
          <tr>
            <th class="px-6 py-3">Quantity</th>
            <th class="px-6 py-3">Date</th>
            <th class="px-6 py-3">Type</th>
            <th class="px-6 py-3">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of masarif" class="bg-white border-b">
            <td class="px-6 py-4">{{ item.quantity }}</td>
            <td class="px-6 py-4">{{ item.date }}</td>
            <td class="px-6 py-4">{{ item.type }}</td>
            <td class="px-6 py-4">
              <button
                (click)="deleteMasarif(item.id)"
                class="text-red-500 hover:underline me-4"
              >
                Delete
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Add Button -->
    <button
      (click)="openModal()"
      class="mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"
    >
      Add Masarif
    </button>

    <!-- Modal -->
    <div
      *ngIf="showModal"
      class="fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50"
    >
      <div class="bg-white p-6 rounded-lg shadow-lg w-96">
        <h2 class="text-2xl font-bold mb-4">Add Masarif</h2>
        <label class="block mb-2">Quantity</label>
        <input
          type="number"
          [(ngModel)]="newMasarif.quantity"
          class="w-full px-4 py-2 mb-4 border rounded-lg focus:ring-2 focus:ring-blue-400"
        />

        <label class="block mb-2">Date</label>
        <input
          type="date"
          [(ngModel)]="newMasarif.date"
          class="w-full px-4 py-2 mb-4 border rounded-lg focus:ring-2 focus:ring-blue-400"
        />

        <label class="block mb-2">Type</label>
        <input
          type="text"
          [(ngModel)]="newMasarif.type"
          class="w-full px-4 py-2 mb-4 border rounded-lg focus:ring-2 focus:ring-blue-400"
        />

        <div class="flex justify-end">
          <button
            (click)="closeModal()"
            class="px-4 py-2 text-gray-600 hover:text-gray-800 me-2"
          >
            Cancel
          </button>
          <button
            (click)="addMasarif()"
            class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"
          >
            Add
          </button>
        </div>
      </div>
    </div>

    <!-- Success Message -->
    <div
      *ngIf="showSuccess"
      class="fixed bottom-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg"
    >
      ðŸŽ‰ Masarif Added Successfully!
    </div>
  </div>
</main>
